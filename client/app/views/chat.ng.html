<ion-view title="{{ chat.title }}">
    <ion-nav-buttons side="right">
        <button class="button button-clear"><img class="header-picture" ng-src="{{ chat.picture }}"></button>
    </ion-nav-buttons>
    <ion-content class="chat" delegate-handle="chatScroll">
        <div class="message-list">
            <div ng-repeat="message in messages" class="message-wrapper">
                <div class="message" 
                ng-class="message.senderID==loggedinUserID ? 'message-mine' : 'message-other'">
                    <div class="message-text">{{ message.message }}</div>
                    <span class="message-timestamp">{{ message.createdAt | date: 'HH:MM' }}</span>
                </div>
            </div>
        </div>
    </ion-content>
    <ion-footer-bar keyboard-attach class="bar-stable footer-chat item-input-inset">
        <button class="button button-clear button-icon button-positive icon ion-ios-upload-outline"></button>
        <label class="item-input-wrapper">
            <input ng-model="chat.message"
                   dir="auto"
                   type="text"/>
        </label>
        <span ng-if="chat.message.length > 0">
            <button ng-click="sendMessage()" class="button button-clear button-positive">Send</button>
        </span>
        <span ng-if="!chat.message || chat.message.length === 0"></span>
    </ion-footer-bar>
</ion-view>



